<script>

function generateSquareWave(buffer, frequency, time, samplesPerSecond) {
	var samples = time * samplesPerSecond;
	var wavelength = (samplesPerSecond / frequency);

	for(var i = 0; i < samples; ++i) {
		buffer[i] = (i % wavelength) > (wavelength / 2) ? 0 : 1;
	}
}

function generateSineWave(buffer, frequency, time, samplesPerSecond) {
	var samples = time * samplesPerSecond;

	for(var i = 0; i < samples; ++i) {
		buffer[i] = Math.sin(i / (samplesPerSecond / 2 / Math.PI / frequency));
	}
}

function generateTriangleWave(buffer, frequency, time, samplesPerSecond) {
	var samples = time * samplesPerSecond;
	var wavelength = (samplesPerSecond / frequency);

	for(var i = 0; i < samples; ++i) {
		buffer[i] = (i % wavelength) > (wavelength / 2) ? 1 - ((i % wavelength) - (wavelength / 2)) / (wavelength / 2) : (i % wavelength) / (wavelength / 2);
	}
}

function generateSawtoothWave(buffer, frequency, time, samplesPerSecond) {
	var samples = time * samplesPerSecond;
	var wavelength = (samplesPerSecond / frequency);

	for(var i = 0; i < samples; ++i) {
		buffer[i] = -1 + 2 * ( (i % wavelength) / wavelength);
	}
}

function play(ctx, time, buffer) {
	var source = ctx.createBufferSource();
	source.buffer = buffer;
	source.connect(ctx.destination);
	source.start(time);
}

var ctx = new AudioContext();

var buffer = ctx.createBuffer(1, ctx.sampleRate, ctx.sampleRate);
generateSawtoothWave(buffer.getChannelData(0), 440, 5, ctx.sampleRate);
play(ctx, 0, buffer);
</script>